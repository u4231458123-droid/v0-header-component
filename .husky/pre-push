#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# MANDATORY QUALITY GATE - NICHT UMG-EHBAR
echo ""
echo "üö® MANDATORY QUALITY GATE - Pre-Push Check"
echo "==========================================="
echo ""

# Pr√ºfe alle ge√§nderten Dateien mit QualityBot
node scripts/cicd/mandatory-quality-gate.js --pre-push

# Exit-Code pr√ºfen
if [ $? -ne 0 ]; then
  echo ""
  echo "‚ùå QUALITY GATE FEHLGESCHLAGEN - Push blockiert!"
  echo "üí° Behebe die Fehler und versuche es erneut."
  echo ""
  exit 1
fi

echo ""
echo "‚úÖ QUALITY GATE BESTANDEN - Push erlaubt"
echo ""

